MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; FORMATO DEL PANEL
                      00002         
                      00003 ;       A   a        1,  2,  3,  4,  5  
                      00004 ;       B   b        6,  7,  8,  9, 10
                      00005 ;       C   c       11, 12, 13, 14, 15
                      00006 ;       D   d       16, 17, 18, 19, 20
                      00007 ;       E   e       21, 22, 23, 24, 25
                      00008         
                      00009         
                      00010 ; 1ra columna Animales solo bombillos 
                      00011         
                      00012 ; 2da Columna Preguntas solo bombillos
                      00013         
                      00014 ; 25 bombillos no manejables en este programa por los momentos
                      00015         
                      00016 ; 25 pulsadores panel de Respuesta del teclado matricial
                      00017         
                      00018 ; 1 Pulsador de inicio del Sistema      
                      00019 
                      00020 ; 1 Salida de Audio para los Tonos (de acierto o respuesta Errada)
                      00021 
                      00022 ; comunicacion con un expansor de puertos o otro pic16f887
                      00023         
                      00024             
                      00025         List p=16f887
                      00026         #include <p16f887.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jul 23 2018
                      00005 ;  MPASM PIC16F887 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2018 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00810         LIST
                      00027         
2007   20F4           00028         __CONFIG H'2007', H'3FFC' & H'3FF7' & H'3FFF' & H'3FFF' & H'3FFF' & H'3FFF' & H'3CFF' & H'3BFF' 
                            & H'37FF' & H'2FFF' & H'3FFF'
2008   3EFF           00029         __CONFIG H'2008', H'3EFF' & H'3FFF'     
                      00030 
                      00031 ;ver 01.1
                      00032 ;===============================================================================
                      00033 ;             Definicion de las macros para cambiar de bancos
                      00034 ;===============================================================================
                      00035 
                      00036 BANK0   MACRO
                      00037         BCF STATUS,5
                      00038         BCF STATUS,6
                      00039         ENDM
                      00040         
                      00041 BANK1   MACRO
                      00042         BSF STATUS,5
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00043         BCF STATUS,6
                      00044         ENDM
                      00045         
                      00046 BANK2   MACRO
                      00047         BCF STATUS,5
                      00048         BSF STATUS,6
                      00049         ENDM
                      00050         
                      00051 BANK3   MACRO
                      00052         BSF STATUS,5
                      00053         BSF STATUS,6
                      00054         ENDM
                      00055         
                      00056 ClSPort MACRO
                      00057         BANK0
                      00058         CLRF PORTC
                      00059         CLRF PORTB
                      00060         CLRF PORTA
                      00061         CLRF PORTD
                      00062         CLRF PORTE
                      00063         ENDM
                      00064         
                      00065 DigPort MACRO
                      00066         BANK3
                      00067         CLRF ANSEL
                      00068         CLRF ANSELH
                      00069         ENDM
                      00070         
                      00071         
  00000020            00072 CONTA_2     EQU 0x20
  00000021            00073 CONTA_1     EQU 0x21
  00000022            00074 BIT         EQU 0x22
  00000023            00075 TECLA       EQU 0x23
  00000024            00076 LAST_TECLA  EQU 0x24
  00000025            00077 RESPUESTA   EQU 0x25
  00000026            00078 CORRECTO    EQU 0x26
  00000027            00079 CONT_WIN    EQU 0x27
  00000028            00080 TEMP0       EQU 0X28
  00000029            00081 TEMP1       EQU 0X29
                      00082 
  00000030            00083 ANIMALES    EQU 0X30
  00000031            00084 PREGUNTA    EQU 0X31
  00000032            00085 TEMP        EQU 0X32
  00000033            00086 CONTPRGTA   EQU 0X33        
  00000034            00087 PUERTOD     EQU 0X34       
  00000035            00088 CONTAFIL    EQU 0X35
  00000036            00089 CONTACOL    EQU 0X36    
  00000037            00090 ACTVTKLA    EQU 0X37
  00000038            00091 NVECES      EQU 0X38
  00000039            00092 FILNUM      EQU 0X39        
                      00093  
                      00094 ;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$        
                      00095 ;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$        
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00096 ;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$        
                      00097 ;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$        
                      00098     
                      00099         ORG H'01'
0001   2???           00100         GOTO INICIO
                      00101         
                      00102         ORG 04H
                      00103         ;HACER INT de reinicio o WD funcione....
                      00104         
                      00105 
0004                  00106 CONVERT_HEX
0004   0782           00107         ADDWF PCL,F
0005   3401 3402 3403 00108         DT  .1,  .2, .3, .4, .5
       3404 3405 
000A   3406 3407 3408 00109         DT  .6,  .7, .8, .9,.10
       3409 340A 
000F   340B 340C 340D 00110         DT .11, .12,.13,.14,.15
       340E 340F 
0014   3410 3411 3412 00111         DT .16, .17,.18,.19,.20
       3413 3414 
0019   3415 3416 3417 00112         DT .21, .22,.23,.24,.25
       3418 3419 
001E                  00113 END_CONVERT_HEX
                      00114         
                      00115         
                      00116 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      00117 ; esta trabajando cada fila es un animal y las columnas corresponden al valor   
                      00118 ; numerico de c/u de las 5 respuestas correspondientes del animal, en el ejemplo
                      00119 ; se ve las posiciones de las respuestas de la matriz principal. solo esta primer
                      00120 ; animal con sus 5 posibles respuestas. 
001E                  00121 RESPUESTAS_1 
001E   0782           00122         ADDWF PCL,F     
                      00123                         
001F   3401 3407 340E 00124         DT  .1,  .7,  .14, .19,  .23  ;Probar con estas respuestas solamente
       3413 3417 
0024   3400 3400 3400 00125         DT  .0,  .0,  .0,  .0,  .0
       3400 3400 
0029   3400 3400 3400 00126         DT  .0,  .0,  .0,  .0,  .0
       3400 3400 
002E   3400 3400 3400 00127         DT  .0,  .0,  .0,  .0,  .0
       3400 3400 
0033   3400 3400 3400 00128         DT  .0,  .0,  .0,  .0,  .0
       3400 3400 
0038                  00129 END_RESPUESTAS_1
                      00130         
                      00131 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
                      00132 ;                   inicio de las Rutinas (call)
                      00133 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                
                      00134 
                      00135 ;===============================================================================
                      00136 ;                           RETARDO DE 20MS
                      00137 ;===============================================================================
0038                  00138 RETARDO_20MS
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0038   0008           00139         RETURN       ; HABILITADO SOLO PARA DEBUG
                      00140         BANK0
0039   1283               M         BCF STATUS,5
003A   1303               M         BCF STATUS,6
003B   3014           00141         MOVLW .20
003C   00A0           00142         MOVWF CONTA_2
003D   30FA           00143         MOVLW .250
003E   00A1           00144         MOVWF CONTA_1
003F   0000           00145         NOP
0040   0BA1           00146         DECFSZ CONTA_1,F
0041   2???           00147         GOTO $-.2
0042   0BA0           00148         DECFSZ CONTA_2,F
0043   2???           00149         GOTO $-.6
0044   0008           00150         RETURN 
                      00151 
                      00152 ;===============================================================================
                      00153 ;               RUTINA DE ENCENDER LUCES DE PREGUNTAS Y ANIMALES
                      00154                 ;USANDO 5 BITS PUERTO A y D 
                      00155 ;===============================================================================
0045   2???           00156 VERIFICA1           CALL CNTCOL
0046   1003           00157                     BCF STATUS,C
0047   0DB1           00158                     RLF PREGUNTA,F   ; ROTA A LA IZQUIERDA BIT PRENDER BOMBILLO 
0048   0831           00159                     MOVF PREGUNTA,W ; INICIA PREGUNTA PARA SABER SI LLEGO AL FIN
0049   3C20           00160                     SUBLW 20H       ; SI EL BIT 5 ESTA ACTIVO REINICIA PROGRAMA
004A   1D03           00161                     BTFSS STATUS,Z
004B   2???           00162                     GOTO ENCENDER
                      00163                    ; RETURN
                      00164                     ;GOTO SIGUIENTE ANIMAL
                      00165                     
004C   3001           00166                     MOVLW .1          ;inicializa las preguntas para proximo animal
004D   00B1           00167                     MOVWF PREGUNTA
                      00168                     
004E   2???           00169 VERIFICA            CALL CNTFIL
004F   1003           00170                     BCF STATUS,C
0050   0DB0           00171                     RLF ANIMALES,F   ; ROTA A LA IZQUIERDA BIT PRENDER BOMBILLO 
0051   0830           00172                     MOVF ANIMALES,W ; INICIA PREGUNTA PARA SABER SI LLEGO AL FIN
0052   3C20           00173                     SUBLW 20H       ; SI EL BIT 5 ESTA ACTIVO REINICIA PROGRAMA
0053   1D03           00174                     BTFSS STATUS,Z
0054   2???           00175                     GOTO ENCENDER
0055   2???           00176                     CALL INICIA     ; DEBERIA SER EL PROGRAMA A RESET               
                      00177 
0056                  00178 ENCENDER        
0056   0831           00179                     MOVF PREGUNTA,W
0057   0088           00180                     MOVWF PORTD
0058   0830           00181                     MOVF ANIMALES,W 
0059   0085           00182                     MOVWF PORTA
005A   0008           00183                     RETURN
                      00184 
                      00185 ;==============================================================================
                      00186 ;                       LEER EL VALOR EN TECLADO 5x5
                      00187 ; asigna un valor a la tecla pulsada entre 1 y 25 con la tabla CONVERT_HEX
                      00188 ;==============================================================================
005B                  00189 READ_HEX
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005B   1C03           00190         BTFSS STATUS,C
005C   2???           00191         GOTO READ_HEX_END
                      00192 
005D   2???           00193         CALL CONVERT_HEX
005E   1403           00194         BSF STATUS,C
005F                  00195 READ_HEX_END
005F   0008           00196         RETURN
                      00197 ;===============================================================================
                      00198 ;                      ANTIREBOTE PARA LOS PULSADORES
                      00199 ;===============================================================================
0060                  00200 Teclado_EsperaDejePulsar
                      00201 ;       BANK0
                      00202 ;       MOVLW 0x1F
                      00203 ;       MOVWF PORTB
                      00204         
0060                  00205 Teclado_SigueEsperando
0060   2???           00206         CALL RETARDO_20MS
                      00207 
0061   0806           00208         MOVF PORTB,W
0062   3C1F           00209         SUBLW 0x1F      
                      00210 
0063   1D03           00211         BTFSS STATUS,Z
0064   2???           00212         GOTO Teclado_SigueEsperando
0065   0187           00213         CLRF PORTC
0066   0008           00214         RETURN
                      00215 ;===============================================================================
                      00216 ; LEE SI SE PULSO UNA TECLAS EN SELECION DE LA RESPUESTA, Y VERIFICA CUAL DE LAS 
                      00217 ; 25 TECLAS FUE PULSADA PARA COMPARAR CON SU RESPUESTA PUERTO B PULL UP
                      00218 ;===============================================================================
                      00219 
0067                  00220 Teclado_LeeOrdenTecla
                      00221         BANK0
0067   1283               M         BCF STATUS,5
0068   1303               M         BCF STATUS,6
0069   3001           00222         MOVLW .1
006A   00A3           00223         MOVWF TECLA
006B   0837           00224         MOVF ACTVTKLA,W     ; PRIMERA COLUMNA CON CERO PARA MATRIZ DEL TECLADO
                      00225                             ; B'11111110' VALOR ENVIADO POR LA FILA
                      00226                             ; por el pull up se activa con cero logico
006C                  00227 CHECK_ROW
006C   0087           00228         MOVWF PORTC         ;ENVIA EL VALOR DE W POR EL PUERTO
                      00229 
006D                  00230 CHECK_COL_1
006D   1806           00231         BTFSC PORTB,0
006E   2???           00232         GOTO SAVE_VALUE
006F   0AA3           00233         INCF TECLA,F
                      00234 
0070                  00235 CHECK_COL_2
0070   1886           00236         BTFSC PORTB,1
0071   2???           00237         GOTO SAVE_VALUE
0072   0AA3           00238         INCF TECLA,F
                      00239         
0073                  00240 CHECK_COL_3
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0073   1906           00241         BTFSC PORTB,2
0074   2???           00242         GOTO SAVE_VALUE
0075   0AA3           00243         INCF TECLA,F
                      00244         
0076                  00245 CHECK_COL_4
0076   1986           00246         BTFSC PORTB,3
0077   2???           00247         GOTO SAVE_VALUE
0078   0AA3           00248         INCF TECLA,F
                      00249 
0079                  00250 CHECK_COL_5
0079   1A06           00251         BTFSC PORTB,4
007A   2???           00252         GOTO SAVE_VALUE
007B   0AA3           00253         INCF TECLA,F    
                      00254 
007C                  00255 END_COL
007C   0824           00256         MOVF  LAST_TECLA,W      ; VALOR DE LA VARIABLE ES 25
007D   0223           00257         SUBWF TECLA,W           ; RESTA 25 MENOS LA TECLA PULSADA
007E   1803           00258         BTFSC STATUS,C          ; SI X < 25 NO SE PULSO LA ULTIMA TECLA
                      00259         
007F   2???           00260         GOTO TECLA_NO_PULSE
                      00261         
0080   1403           00262         BSF STATUS,C
0081   0D07           00263         RLF PORTC,W             ;INCREMENTA PARA LA SIGUENTE FILA
0082   2???           00264         GOTO CHECK_ROW
                      00265         
                      00266         
0083                  00267 TECLA_NO_PULSE
                      00268         
0083   30FE           00269         MOVLW B'11111110'
0084   0837           00270         MOVF ACTVTKLA,W
0085   01A3           00271         CLRF TECLA
                      00272         
0086   2???           00273         GOTO CHECK_ROW
                      00274 
0087                  00275 SAVE_VALUE
0087   0823           00276         MOVF TECLA,W           ; Variable TECLA contiene el valor pulsado
                      00277 ;       BSF STATUS,C
                      00278 ;       RETURN
                      00279 ;===============================================================================
                      00280 ;==============================================================================
                      00281 ; VALIDA SI LA RESPUESTA ES CORRECTA, CONVIERTE EL VALOR DE LA TECLA PULSADA
                      00282 ; EN UN VALOR EN HEX, PARA COMPARAR CON 
                      00283 ; DEBE VERIFICAR CON RESPECTO AL ANIMAL ASIGNADO LAS RESPUESTA              
                      00284 ;==============================================================================
                      00285 ;CONTAFIL    EQU        0X35
                      00286 ;CONTACOL    EQU        0X36
                      00287 ;NVECES      EQU        0X38    
                      00288 ;RESPUESTA   EQU        0x25    
0088                  00289 VALIDATE_ANSWER 
                      00290         
0088   00A5           00291         MOVWF RESPUESTA         ; W trae el valor de TECLA
                      00292 
0089   0835           00293         MOVF    CONTAFIL,W
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

008A   00B9           00294         MOVWF   FILNUM
                      00295         
                      00296         
008B   3000           00297         MOVLW  .0
008C   00B8           00298         MOVWF  NVECES
                      00299         
008D   0838           00300         MOVF  NVECES,W
008E   3E05           00301 SUM1    ADDLW  .5 
008F   0BB9           00302         DECFSZ FILNUM,F
                      00303         
0090   2???           00304         GOTO   SUM1
                      00305         
0091   3C05           00306         SUBLW  .5
                      00307         
0092   0736           00308         ADDWF  CONTACOL,W
                      00309         
0093   00B9           00310         MOVWF FILNUM
0094   3001           00311         MOVLW .1
0095   0239           00312         SUBWF  FILNUM,W     
                      00313                             ; SE DESPLAZARA W VECES EN LA TABLA Y VERIFICA
                      00314                             ; SI LA TECLA PULSADA CORRESPONDE A LA RESPUESTA
                      00315         
0096   2???           00316         CALL RESPUESTAS_1   ; SE DESPLAZA EN LA TABLA Y SE TRAEL EN DATO
Message[305]: Using default destination of 1 (file).
0097   02A5           00317         SUBWF RESPUESTA
0098   1D03           00318         BTFSS STATUS,Z
0099   2???           00319         GOTO Teclado_LeeOrdenTecla
                      00320                             ;RETORNA SI LA RESPUESTA ES ERRADA y espera la 
                      00321                             ;correcta x tiempo
                      00322         
                      00323                 
009A   3001           00324         MOVLW .1
009B   00A6           00325         MOVWF CORRECTO
009C   0008           00326         RETURN
                      00327 
                      00328         
                      00329         
                      00330         
                      00331         
                      00332         
                      00333 
                      00334         
                      00335         
                      00336 ;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
                      00337         
                      00338 ;                       inicia parametros para el programa      
                      00339         
                      00340 ;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&        
                      00341 
009D                  00342 INICIO
                      00343         
                      00344         DigPort                 ;inicializa los puertos en digital  
                          M         BANK3
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

009D   1683               M         BSF STATUS,5
009E   1703               M         BSF STATUS,6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009F   0188               M         CLRF ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A0   0189               M         CLRF ANSELH
                      00345 
                      00346         BANK1
00A1   1683               M         BSF STATUS,5
00A2   1303               M         BCF STATUS,6
00A3   301F           00347         MOVLW 01FH           
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A4   0089           00348         MOVWF TRISE         ;PUERTO E ENTRADA para Pulsador de Inicio Programa
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A5   0086           00349         MOVWF TRISB         ;PUERTO B ENTRADA PARA EL TECLADO
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A6   0187           00350         CLRF TRISC          ;PUERTO C SALIDA PARA EL TECLADO
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A7   0185           00351         CLRF TRISA          ;PUERTO A SALIDA BOMBILLOS ANIMAL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A8   0188           00352         CLRF TRISD          ;PUERTO D SALIDA BOMBILLOS PREGUNTA
                      00353 
                      00354         BANK0
00A9   1283               M         BCF STATUS,5
00AA   1303               M         BCF STATUS,6
                      00355 
00AB   3001           00356         MOVLW .1
00AC   00B0           00357         MOVWF ANIMALES
00AD   00B1           00358         MOVWF PREGUNTA
00AE   00B4           00359         MOVWF PUERTOD
00AF   00B5           00360         MOVWF CONTAFIL  
00B0   00B6           00361         MOVWF CONTACOL
                      00362         
00B1   3019           00363         MOVLW .25
00B2   00B3           00364         MOVWF CONTPRGTA
                      00365         
00B3   301A           00366         MOVLW .26
00B4   00A4           00367         MOVWF LAST_TECLA
                      00368         
00B5   3000           00369         MOVLW 00H
00B6   00A7           00370         MOVWF CONT_WIN
                      00371         
00B7   30FE           00372         MOVLW B'11111110'       ;ACTIVA BIT EN CERO PARA ROTAR EN TECLADO
00B8   00B7           00373         MOVWF ACTVTKLA
                      00374 
                      00375         ClSPort     ; MACRO DE INICIALIZAR PUERTOS
                          M         BANK0
00B9   1283               M         BCF STATUS,5
00BA   1303               M         BCF STATUS,6
00BB   0187               M         CLRF PORTC
00BC   0186               M         CLRF PORTB
00BD   0185               M         CLRF PORTA
00BE   0188               M         CLRF PORTD
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BF   0189               M         CLRF PORTE
                      00376         
                      00377 ;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&        
                      00378         
                      00379         
00C0                  00380 INICIA          
                      00381         ;CALL GUSANOPANT  ;INICIALIZA SECUENCIA PARA LLAMAR LA ATENCION DEL JUEGO
                      00382         
00C0   2???           00383         CALL RETARDO_20MS   ;USAR INT RB CAMBIO ESTADO PARA QUE SALTE AL INICIO?
00C1   1C09           00384         BTFSS PORTE,0       ; BOTON DE INICIO SISTEMA  PREGUNTA SI ESTA EN CERO
00C2   2???           00385         GOTO INICIA
                      00386         
                      00387 ; cambiar esto con uno de los botones de Puerto B para trabajar con la int
                      00388 ; de cambio de estado y dejar el PIC en Sleep   
                      00389         
                      00390 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
                      00391         
                      00392 ;                           ANIMALES Y PREGUNTAS        
                      00393 
                      00394 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
                      00395         
00C3   1405           00396         BSF PORTA,0       ;PRIMER ANIMAL
00C4   1408           00397         BSF PORTD,0       ;PRIMERA PREGUNTA ACTIVA
                      00398         
00C5                  00399 SISTPREG            ;sistema de preguntas y respuestas
                      00400 
00C5   2???           00401         CALL Teclado_LeeOrdenTecla      ;ESPERA HASTA QUE SE PULSE UNA TECLA
                      00402         
00C6                  00403 PROXIMO
00C6   2???           00404         CALL VERIFICA1  ;SIGUIENTE PREGUNTA Y/O ANIMAL
                      00405                         ;PREGUNTA SI ES EL FINAL DEL CONTADOR DE LAS PREGUNTAS EN CASO 
                      00406                         ; DE NO SER REPITE BUCLE PARA LA PROXIMA PREGUNTA
00C7   2???           00407         GOTO SISTPREG
                      00408         
                      00409         
00C8   0000           00410         NOP
00C9   0000           00411         NOP 
00CA   0000           00412         NOP
                      00413         
                      00414 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      00415         
                      00416 ; rutinas para calcular la posicion de la respuesta x pregunta y fila 
                      00417 ;con una variable, estas rutinas se activan al cambiar la pregunta o el 
                      00418 ;animal.
                      00419         
                      00420 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
                      00421         
00CB   3001           00422 CNTFIL  MOVLW  .1                       ; ANIMALES
00CC   07B5           00423         ADDWF CONTAFIL,F
00CD   3006           00424         MOVLW  .6
00CE   0235           00425         SUBWF CONTAFIL,W
00CF   1D03           00426         BTFSS STATUS,Z
00D0   0008           00427         RETURN
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D1   3000           00428         MOVLW .0
00D2   00B5           00429         MOVWF CONTAFIL
00D3   0008           00430         RETURN
                      00431 
00D4   3001           00432 CNTCOL  MOVLW .1                        ;PREGUNTAS
00D5   07B6           00433         ADDWF CONTACOL,F
00D6   3006           00434         MOVLW  .6 
00D7   0236           00435         SUBWF CONTACOL,W
00D8   1D03           00436         BTFSS STATUS,Z
00D9   0008           00437         RETURN
00DA   3000           00438         MOVLW .0
00DB   00B6           00439         MOVWF CONTACOL
00DC   0008           00440         RETURN
                      00441         
20F4 3EFF             00442         END
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACTVTKLA                          00000037
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANIMALES                          00000030
ANS0                              00000000
ANS1                              00000001
ANS10                             00000002
ANS11                             00000003
ANS12                             00000004
ANS13                             00000005
ANS2                              00000002
ANS3                              00000003
ANS4                              00000004
ANS5                              00000005
ANS6                              00000006
ANS7                              00000007
ANS8                              00000000
ANS9                              00000001
ANSEL                             00000188
ANSELH                            00000189
BANK0                             
BANK1                             
BANK2                             
BANK3                             
BAUDCTL                           00000187
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BIT                               00000022
BRG0                              00000000
BRG1                              00000001
BRG10                             00000002
BRG11                             00000003
BRG12                             00000004
BRG13                             00000005
BRG14                             00000006
BRG15                             00000007
BRG16                             00000003
BRG2                              00000002
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

BRG3                              00000003
BRG4                              00000004
BRG5                              00000005
BRG6                              00000006
BRG7                              00000007
BRG8                              00000000
BRG9                              00000001
BRGH                              00000002
C                                 00000000
C1CH0                             00000000
C1CH1                             00000001
C1IE                              00000005
C1IF                              00000005
C1OE                              00000005
C1ON                              00000007
C1OUT                             00000006
C1POL                             00000004
C1R                               00000002
C1RSEL                            00000005
C1SEN                             00000005
C2CH0                             00000000
C2CH1                             00000001
C2IE                              00000006
C2IF                              00000006
C2OE                              00000005
C2ON                              00000007
C2OUT                             00000006
C2POL                             00000004
C2R                               00000002
C2REN                             00000004
C2RSEL                            00000004
C2SYNC                            00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHECK_COL_1                       0000006D
CHECK_COL_2                       00000070
CHECK_COL_3                       00000073
CHECK_COL_4                       00000076
CHECK_COL_5                       00000079
CHECK_ROW                         0000006C
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CKE                               00000006
CKP                               00000004
CM1CON0                           00000107
CM2CON0                           00000108
CM2CON1                           00000109
CNTCOL                            000000D4
CNTFIL                            000000CB
CONTACOL                          00000036
CONTAFIL                          00000035
CONTA_1                           00000021
CONTA_2                           00000020
CONTPRGTA                         00000033
CONT_WIN                          00000027
CONVERT_HEX                       00000004
CORRECTO                          00000026
CREN                              00000004
CSRC                              00000007
ClSPort                           
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
D_A                               00000005
D_NOT_A                           00000005
DigPort                           
ECCPAS                            0000009C
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDAT                             0000010C
EEDATA                            0000010C
EEDATH                            0000010E
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
ENCENDER                          00000056
END_COL                           0000007C
END_CONVERT_HEX                   0000001E
END_RESPUESTAS_1                  00000038
F                                 00000001
FERR                              00000002
FILNUM                            00000039
FSR                               00000004
FVREN                             00000000
GCEN                              00000007
GIE                               00000007
GO                                00000001
GO_DONE                           00000001
GO_NOT_DONE                       00000001
HTS                               00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDF                              00000000
INICIA                            000000C0
INICIO                            0000009D
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
LAST_TECLA                        00000024
LTS                               00000001
MC1OUT                            00000007
MC2OUT                            00000006
MSK                               00000093
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

MSK6                              00000006
MSK7                              00000007
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NVECES                            00000038
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
P1M0                              00000006
P1M1                              00000007
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PDC0                              00000000
PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
PDC6                              00000006
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PREGUNTA                          00000031
PROXIMO                           000000C6
PRSEN                             00000007
PS0                               00000000
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

PS1                               00000001
PS2                               00000002
PSA                               00000003
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PSTRCON                           0000009D
PUERTOD                           00000034
PULSR                             00000002
PULSS                             00000003
PWM1CON                           0000009B
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READ_HEX                          0000005B
READ_HEX_END                      0000005F
READ_WRITE                        00000002
RESPUESTA                         00000025
RESPUESTAS_1                      0000001E
RETARDO_20MS                      00000038
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SAVE_VALUE                        00000087
SBOREN                            00000004
SCKP                              00000004
SCS                               00000000
SEN                               00000000
SENDB                             00000003
SISTPREG                          000000C5
SMP                               00000007
SPBRG                             00000099
SPBRGH                            0000009A
SPEN                              00000007
SR0                               00000006
SR1                               00000007
SRCON                             00000185
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000093
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
STRA                              00000000
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SUM1                              0000008E
SWDTEN                            00000000
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GINV                            00000007
T1GIV                             00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TECLA                             00000023
TECLA_NO_PULSE                    00000083
TEMP                              00000032
TEMP0                             00000028
TEMP1                             00000029
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Teclado_EsperaDejePulsar          00000060
Teclado_LeeOrdenTecla             00000067
Teclado_SigueEsperando            00000060
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

UA                                00000001
ULPWUE                            00000005
ULPWUIE                           00000002
ULPWUIF                           00000002
VALIDATE_ANSWER                   00000088
VCFG0                             00000004
VCFG1                             00000005
VERIFICA                          0000004E
VERIFICA1                         00000045
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000097
VREN                              00000007
VROE                              00000006
VRR                               00000005
VRSS                              00000004
W                                 00000000
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
WUE                               00000001
Z                                 00000002
_.org_1_0041                      00000041
_.org_1_0043                      00000043
_BOR21V                           00003EFF
_BOR40V                           00003FFF
_BOR4V_BOR21V                     00003EFF
_BOR4V_BOR40V                     00003FFF
_BOREN_NSLEEP                     00003EFF
_BOREN_OFF                        00003CFF
_BOREN_ON                         00003FFF
_BOREN_SBODEN                     00003DFF
_BOR_NSLEEP                       00003EFF
_BOR_OFF                          00003CFF
_BOR_ON                           00003FFF
_BOR_SBODEN                       00003DFF
MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00001FFF
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_FOSC_EC                          00003FFB
_FOSC_EXTRC_CLKOUT                00003FFF
_FOSC_EXTRC_NOCLKOUT              00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRC_CLKOUT                00003FFD
_FOSC_INTRC_NOCLKOUT              00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_IESO_OFF                         00003BFF
_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_LVP_OFF                          00002FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FF9
__16F887                          00000001

MPASM 5.81  /HOME/MIPC/MPLABXPROJECTS/GITWIL   10-26-2018  3:43:04         PAGE 22





Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     8 reported,     0 suppressed

